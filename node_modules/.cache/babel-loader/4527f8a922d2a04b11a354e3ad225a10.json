{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\react-app\\\\indexiom\\\\src\\\\pages\\\\catalogue\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { categoriesFetchData } from \"../../features/actions/categories\";\nimport Category from \"./Category\";\nimport Product from \"./product\";\n\nconst Products = props => {\n  _s();\n\n  const [active, setActive] = useState(0);\n\n  const handleSelection = e => {\n    e.preventDefault();\n    const index = parseInt(e.target.getAttribute(\"index\"), 10);\n    return setActive(index);\n  };\n\n  const isActive = index => {\n    return index === active;\n  };\n\n  const renderCategory = (item, index) => /*#__PURE__*/_jsxDEV(Category, {\n    active: isActive(index),\n    item: item,\n    index: index,\n    handleSelection: handleSelection\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n\n  const renderProduct = (item, index) => /*#__PURE__*/_jsxDEV(Product, {\n    item: item\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 42\n  }, this);\n\n  const url = \"https://my-json-server.typicode.com/fmartinsba/shopping-cart/categories\";\n  useEffect(() => {\n    props.fetchData(url);\n    return () => {};\n  }, []);\n  if (props.isLoading) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 31\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categories\",\n      children: props.categories.map(renderCategory)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: props.categories[active] ? props.categories[active].products.map(renderProduct) : false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Products, \"g0++h9M18jyb+3aelILICt47jn0=\");\n\n_c = Products;\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories,\n    isLoading: state.categoriesIsLoading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchData: url => dispatch(categoriesFetchData(url))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["C:/react-app/indexiom/src/pages/catalogue/Products.js"],"names":["React","useState","useEffect","connect","categoriesFetchData","Category","Product","Products","props","active","setActive","handleSelection","e","preventDefault","index","parseInt","target","getAttribute","isActive","renderCategory","item","renderProduct","url","fetchData","isLoading","categories","map","products","mapStateToProps","state","categoriesIsLoading","mapDispatchToProps","dispatch"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,mBAAT,QAAoC,mCAApC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAAA;;AACxB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,CAAD,CAApC;;AAEA,QAAMU,eAAe,GAAGC,CAAC,IAAI;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,KAAK,GAAGC,QAAQ,CAACH,CAAC,CAACI,MAAF,CAASC,YAAT,CAAsB,OAAtB,CAAD,EAAiC,EAAjC,CAAtB;AACA,WAAOP,SAAS,CAACI,KAAD,CAAhB;AACD,GAJD;;AAMA,QAAMI,QAAQ,GAAGJ,KAAK,IAAI;AACxB,WAAOA,KAAK,KAAKL,MAAjB;AACD,GAFD;;AAIA,QAAMU,cAAc,GAAG,CAACC,IAAD,EAAON,KAAP,kBACrB,QAAC,QAAD;AAEE,IAAA,MAAM,EAAEI,QAAQ,CAACJ,KAAD,CAFlB;AAGE,IAAA,IAAI,EAAEM,IAHR;AAIE,IAAA,KAAK,EAAEN,KAJT;AAKE,IAAA,eAAe,EAAEH;AALnB,KACOG,KADP;AAAA;AAAA;AAAA;AAAA,UADF;;AASA,QAAMO,aAAa,GAAG,CAACD,IAAD,EAAON,KAAP,kBAAiB,QAAC,OAAD;AAAqB,IAAA,IAAI,EAAEM;AAA3B,KAAcN,KAAd;AAAA;AAAA;AAAA;AAAA,UAAvC;;AACA,QAAMQ,GAAG,GACP,yEADF;AAGApB,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,KAAK,CAACe,SAAN,CAAgBD,GAAhB;AACA,WAAO,MAAM,CAAE,CAAf;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,MAAId,KAAK,CAACgB,SAAV,EAAqB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACrB,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,gBAA6BhB,KAAK,CAACiB,UAAN,CAAiBC,GAAjB,CAAqBP,cAArB;AAA7B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,gBACGX,KAAK,CAACiB,UAAN,CAAiBhB,MAAjB,IACGD,KAAK,CAACiB,UAAN,CAAiBhB,MAAjB,EAAyBkB,QAAzB,CAAkCD,GAAlC,CAAsCL,aAAtC,CADH,GAEG;AAHN;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CA1CD;;GAAMd,Q;;KAAAA,Q;;AA4CN,MAAMqB,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLJ,IAAAA,UAAU,EAAEI,KAAK,CAACJ,UADb;AAELD,IAAAA,SAAS,EAAEK,KAAK,CAACC;AAFZ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACLT,IAAAA,SAAS,EAAED,GAAG,IAAIU,QAAQ,CAAC5B,mBAAmB,CAACkB,GAAD,CAApB;AADrB,GAAP;AAGD,CAJD;;AAMA,eAAenB,OAAO,CACpByB,eADoB,EAEpBG,kBAFoB,CAAP,CAGbxB,QAHa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { categoriesFetchData } from \"../../features/actions/categories\";\nimport Category from \"./Category\";\nimport Product from \"./product\";\n\nconst Products = props => {\n  const [active, setActive] = useState(0);\n\n  const handleSelection = e => {\n    e.preventDefault();\n    const index = parseInt(e.target.getAttribute(\"index\"), 10);\n    return setActive(index);\n  };\n\n  const isActive = index => {\n    return index === active;\n  };\n\n  const renderCategory = (item, index) => (\n    <Category\n      key={index}\n      active={isActive(index)}\n      item={item}\n      index={index}\n      handleSelection={handleSelection}\n    />\n  );\n  const renderProduct = (item, index) => <Product key={index} item={item} />;\n  const url =\n    \"https://my-json-server.typicode.com/fmartinsba/shopping-cart/categories\";\n\n  useEffect(() => {\n    props.fetchData(url);\n    return () => {};\n  }, []);\n\n  if (props.isLoading) return <span>loading...</span>;\n  return (\n    <div>\n      <div className=\"categories\">{props.categories.map(renderCategory)}</div>\n      <div className=\"products\">\n        {props.categories[active]\n          ? props.categories[active].products.map(renderProduct)\n          : false}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories,\n    isLoading: state.categoriesIsLoading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchData: url => dispatch(categoriesFetchData(url))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Products);\n"]},"metadata":{},"sourceType":"module"}