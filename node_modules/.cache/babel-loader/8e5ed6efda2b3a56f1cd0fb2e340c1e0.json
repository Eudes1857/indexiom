{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART } from \"./actionTypes\";\nexport const addToCart = (items, product) => dispatch => {\n  const cartItems = items.slice();\n  let productAlreadyInCart = false;\n  cartItems.forEach(cp => {\n    if (cp.id === product.id) {\n      cp.count += 1;\n      productAlreadyInCart = true;\n    }\n  });\n\n  if (!productAlreadyInCart) {\n    cartItems.push({ ...product,\n      count: 1\n    });\n  }\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems\n    }\n  });\n};\nexport const removeFromCart = (items, product) => dispatch => {\n  const cartItems = items.slice().filter(a => a.id !== product.id);\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems\n    }\n  });\n};","map":{"version":3,"sources":["C:/react-app/indexiom/src/features/actions/cartAction.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","addToCart","items","product","dispatch","cartItems","slice","productAlreadyInCart","forEach","cp","id","count","push","localStorage","setItem","JSON","stringify","type","payload","removeFromCart","filter","a"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,eAA9C;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAqBC,QAAD,IAAc;AACvD,QAAMC,SAAS,GAAGH,KAAK,CAACI,KAAN,EAAlB;AACA,MAAIC,oBAAoB,GAAG,KAA3B;AAEAF,EAAAA,SAAS,CAACG,OAAV,CAAmBC,EAAD,IAAQ;AACtB,QAAIA,EAAE,CAACC,EAAH,KAAUP,OAAO,CAACO,EAAtB,EAA0B;AACtBD,MAAAA,EAAE,CAACE,KAAH,IAAY,CAAZ;AACAJ,MAAAA,oBAAoB,GAAI,IAAxB;AACH;AACJ,GALD;;AAMA,MAAI,CAACA,oBAAL,EAA2B;AACvBF,IAAAA,SAAS,CAACO,IAAV,CAAe,EAAE,GAAGT,OAAL;AAAcQ,MAAAA,KAAK,EAAE;AAArB,KAAf;AACH;;AACGE,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAlC;AACAD,EAAAA,QAAQ,CAAC;AAAEa,IAAAA,IAAI,EAAElB,WAAR;AAAqBmB,IAAAA,OAAO,EAAE;AAAEb,MAAAA;AAAF;AAA9B,GAAD,CAAR;AACH,CAfE;AAiBH,OAAO,MAAMc,cAAc,GAAG,CAACjB,KAAD,EAAQC,OAAR,KAAqBC,QAAD,IAAc;AAC5D,QAAMC,SAAS,GAAGH,KAAK,CAACI,KAAN,GAAcc,MAAd,CAAsBC,CAAD,IAAOA,CAAC,CAACX,EAAF,KAASP,OAAO,CAACO,EAA7C,CAAlB;AACAG,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAlC;AACAD,EAAAA,QAAQ,CAAC;AAAEa,IAAAA,IAAI,EAAEjB,gBAAR;AAA0BkB,IAAAA,OAAO,EAAE;AAAEb,MAAAA;AAAF;AAAnC,GAAD,CAAR;AAEP,CALU","sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from \"./actionTypes\";\n\nexport const addToCart = (items, product) => (dispatch) => {\n    const cartItems = items.slice();\n    let productAlreadyInCart = false;\n\n    cartItems.forEach((cp) => {\n        if (cp.id === product.id) {\n            cp.count += 1;\n            productAlreadyInCart  = true;\n        }\n    }); \n    if (!productAlreadyInCart) {\n        cartItems.push({ ...product, count: 1 });\n    }\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        dispatch({ type: ADD_TO_CART, payload: { cartItems } });\n    };\n\n    export const removeFromCart = (items, product) => (dispatch) => {\n        const cartItems = items.slice().filter((a) => a.id !== product.id);\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        dispatch({ type: REMOVE_FROM_CART, payload: { cartItems } \n    });\n};"]},"metadata":{},"sourceType":"module"}