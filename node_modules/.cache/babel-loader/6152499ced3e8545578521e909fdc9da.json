{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  basketData: []\n};\nconsole.log(initialState); // Add product to the cart\n\nconst BasketSlice = createSlice({\n  name: \"baskets\",\n  initialState,\n  reducers: {\n    addToBasket: (state, action) => {\n      state.basketData.push(action.payload);\n    },\n    //Remove product from the cart\n    removeFromBasket: (state, action) => {\n      const index = state.basketData.findIndex(obj => obj[key] === value); //const index = state.basketData.findIndex(basketItem => basketItem.id === action.payload.id);\n\n      let newBasket = [...state.basketData];\n      console.log(index);\n\n      for (var i = 0; i < state.basketData.length; i++) {\n        if (state.basketData[i] === index) {\n          state.basketData.splice(i, 1);\n        } else {\n          console.warn(`Cant remove product (id: ${action.payload.id}) as its not in basket!`);\n        }\n      }\n\n      return { ...state,\n        basketData: newBasket\n      };\n    }\n  }\n});\nexport const {\n  addToBasket,\n  removeFromBasket\n} = BasketSlice.actions;\nexport const selectBasketData = state => state.baskets.basketData;\nexport default BasketSlice.reducer;","map":{"version":3,"sources":["C:/react-app/indexiom/src/features/reducers/BasketSlice.js"],"names":["createSlice","initialState","basketData","console","log","BasketSlice","name","reducers","addToBasket","state","action","push","payload","removeFromBasket","index","findIndex","obj","key","value","newBasket","i","length","splice","warn","id","actions","selectBasketData","baskets","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,UAAU,EAAE;AADK,CAArB;AAIAC,OAAO,CAACC,GAAR,CAAYH,YAAZ,E,CAEA;;AACA,MAAMI,WAAW,GAAGL,WAAW,CAAC;AAC5BM,EAAAA,IAAI,EAAE,SADsB;AAE5BL,EAAAA,YAF4B;AAG5BM,EAAAA,QAAQ,EAAE;AACVC,IAAAA,WAAW,EAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;AAC5BD,MAAAA,KAAK,CAACP,UAAN,CAAiBS,IAAjB,CAAsBD,MAAM,CAACE,OAA7B;AACH,KAHS;AAKV;AACAC,IAAAA,gBAAgB,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAkB;AAChC,YAAMI,KAAK,GAAGL,KAAK,CAACP,UAAN,CAAiBa,SAAjB,CAA2BC,GAAG,IAAIA,GAAG,CAACC,GAAD,CAAH,KAAaC,KAA/C,CAAd,CADgC,CAEhC;;AACA,UAAIC,SAAS,GAAG,CAAC,GAAGV,KAAK,CAACP,UAAV,CAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;;AAEA,WAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,KAAK,CAACP,UAAN,CAAiBmB,MAArC,EAA6CD,CAAC,EAA9C,EAAiD;AAE7C,YAAKX,KAAK,CAACP,UAAN,CAAiBkB,CAAjB,MAAwBN,KAA7B,EAAoC;AAEhCL,UAAAA,KAAK,CAACP,UAAN,CAAiBoB,MAAjB,CAAwBF,CAAxB,EAA2B,CAA3B;AACH,SAHD,MAGM;AACFjB,UAAAA,OAAO,CAACoB,IAAR,CACG,4BAA2Bb,MAAM,CAACE,OAAP,CAAeY,EAAG,yBADhD;AAGH;AAEJ;;AAED,aAAO,EACH,GAAGf,KADA;AAEHP,QAAAA,UAAU,EAAEiB;AAFT,OAAP;AAIH;AA7BS;AAHkB,CAAD,CAA/B;AAuCA,OAAO,MAAM;AACTX,EAAAA,WADS;AAETK,EAAAA;AAFS,IAGTR,WAAW,CAACoB,OAHT;AAKP,OAAO,MAAMC,gBAAgB,GAAGjB,KAAK,IAAIA,KAAK,CAACkB,OAAN,CAAczB,UAAhD;AAEP,eAAeG,WAAW,CAACuB,OAA3B","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\n\nconst initialState = {\n    basketData: []\n}\n\nconsole.log(initialState)\n\n// Add product to the cart\nconst BasketSlice = createSlice({\n    name: \"baskets\",\n    initialState,\n    reducers: {\n    addToBasket : (state, action) =>{\n        state.basketData.push(action.payload)\n    },\n    \n    //Remove product from the cart\n    removeFromBasket: (state, action) =>{\n        const index = state.basketData.findIndex(obj => obj[key] === value);\n        //const index = state.basketData.findIndex(basketItem => basketItem.id === action.payload.id);\n        let newBasket = [...state.basketData];\n        console.log(index)\n\n        for( var i = 0; i < state.basketData.length; i++){ \n    \n            if ( state.basketData[i] === index) { \n        \n                state.basketData.splice(i, 1); \n            }else {\n                console.warn(\n                  `Cant remove product (id: ${action.payload.id}) as its not in basket!`\n                )\n            }\n        \n        }\n        \n        return {\n            ...state,\n            basketData: newBasket\n        }\n    }\n\n   \n\n    }\n});\n\nexport const {\n    addToBasket,\n    removeFromBasket\n} = BasketSlice.actions\n\nexport const selectBasketData = state => state.baskets.basketData;\n\nexport default BasketSlice.reducer\n"]},"metadata":{},"sourceType":"module"}